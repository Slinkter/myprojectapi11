import{r as i,i as F,j as l,a as z,b as U,c as W,d as de,e as fe,f as me,g as pe,h as K,k as he,l as ge,m as ye,s as xe,n as Ce,L as X,o as be,p as ve,q as Me,t as Re,v as we,w as je,P as y,R as Y,B as Se,x as Pe,y as Ae,z as I}from"./index-BDiOiX5S.js";import{S as Te}from"./SkeletonCard-De_9aZ_R.js";const J=i.createContext({});function D(e){const t=i.useRef(null);return t.current===null&&(t.current=e()),t.current}const Q=typeof window<"u",Z=Q?i.useLayoutEffect:i.useEffect,V=i.createContext(null);function Ve(e){return F(e)?e.get():e}const $=i.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function B(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Le(...e){return t=>{let n=!1;const o=e.map(s=>{const r=B(s,t);return!n&&typeof r=="function"&&(n=!0),r});if(n)return()=>{for(let s=0;s<o.length;s++){const r=o[s];typeof r=="function"?r():B(e[s],null)}}}}function ke(...e){return i.useCallback(Le(...e),e)}class Ee extends i.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const o=n.offsetParent,s=z(o)&&o.offsetWidth||0,r=z(o)&&o.offsetHeight||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left,a.bottom=r-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Ne({children:e,isPresent:t,anchorX:n,anchorY:o,root:s,pop:r}){const a=i.useId(),f=i.useRef(null),h=i.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=i.useContext($),d=e.props?.ref??e?.ref,p=ke(f,d);return i.useInsertionEffect(()=>{const{width:c,height:g,top:u,left:x,right:v,bottom:R}=h.current;if(t||r===!1||!f.current||!c||!g)return;const M=n==="left"?`left: ${x}`:`right: ${v}`,w=o==="bottom"?`bottom: ${R}`:`top: ${u}`;f.current.dataset.motionPopId=a;const b=document.createElement("style");m&&(b.nonce=m);const S=s??document.head;return S.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${g}px !important;
            ${M}px !important;
            ${w}px !important;
          }
        `),()=>{S.contains(b)&&S.removeChild(b)}},[t]),l.jsx(Ee,{isPresent:t,childRef:f,sizeRef:h,pop:r,children:r===!1?e:i.cloneElement(e,{ref:p})})}const Ie=({children:e,initial:t,isPresent:n,onExitComplete:o,custom:s,presenceAffectsLayout:r,mode:a,anchorX:f,anchorY:h,root:m})=>{const d=D(qe),p=i.useId();let c=!0,g=i.useMemo(()=>(c=!1,{id:p,initial:t,isPresent:n,custom:s,onExitComplete:u=>{d.set(u,!0);for(const x of d.values())if(!x)return;o&&o()},register:u=>(d.set(u,!1),()=>d.delete(u))}),[n,d,o]);return r&&c&&(g={...g}),i.useMemo(()=>{d.forEach((u,x)=>d.set(x,!1))},[n]),i.useEffect(()=>{!n&&!d.size&&o&&o()},[n]),e=l.jsx(Ne,{pop:a==="popLayout",isPresent:n,anchorX:f,anchorY:h,root:m,children:e}),l.jsx(V.Provider,{value:g,children:e})};function qe(){return new Map}function Fe(e=!0){const t=i.useContext(V);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:o,register:s}=t,r=i.useId();i.useEffect(()=>{if(e)return s(r)},[e]);const a=i.useCallback(()=>e&&o&&o(r),[r,o,e]);return!n&&o?[!1,a]:[!0]}const A=e=>e.key||"";function G(e){const t=[];return i.Children.forEach(e,n=>{i.isValidElement(n)&&t.push(n)}),t}const De=({children:e,custom:t,initial:n=!0,onExitComplete:o,presenceAffectsLayout:s=!0,mode:r="sync",propagate:a=!1,anchorX:f="left",anchorY:h="top",root:m})=>{const[d,p]=Fe(a),c=i.useMemo(()=>G(e),[e]),g=a&&!d?[]:c.map(A),u=i.useRef(!0),x=i.useRef(c),v=D(()=>new Map),R=i.useRef(new Set),[M,w]=i.useState(c),[b,S]=i.useState(c);Z(()=>{u.current=!1,x.current=c;for(let j=0;j<b.length;j++){const C=A(b[j]);g.includes(C)?(v.delete(C),R.current.delete(C)):v.get(C)!==!0&&v.set(C,!1)}},[b,g.length,g.join("-")]);const k=[];if(c!==M){let j=[...c];for(let C=0;C<b.length;C++){const P=b[C],E=A(P);g.includes(E)||(j.splice(C,0,P),k.push(P))}return r==="wait"&&k.length&&(j=k),S(G(j)),w(c),null}const{forceRender:ce}=i.useContext(J);return l.jsx(l.Fragment,{children:b.map(j=>{const C=A(j),P=a&&!d?!1:c===b||g.includes(C),E=()=>{if(R.current.has(C))return;if(R.current.add(C),v.has(C))v.set(C,!0);else return;let O=!0;v.forEach(le=>{le||(O=!1)}),O&&(ce?.(),S(x.current),a&&p?.(),o&&o())};return l.jsx(Ie,{isPresent:P,initial:!u.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:r,root:m,onExitComplete:P?void 0:E,anchorX:f,anchorY:h,children:j},C)})})},$e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function T(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||$e.has(e)}let ee=e=>!T(e);function He(e){typeof e=="function"&&(ee=t=>t.startsWith("on")?!T(t):e(t))}try{He(require("@emotion/is-prop-valid").default)}catch{}function Oe(e,t,n){const o={};for(const s in e)s==="values"&&typeof e.values=="object"||(ee(s)||n===!0&&T(s)||!t&&!T(s)||e.draggable&&s.startsWith("onDrag"))&&(o[s]=e[s]);return o}const L=i.createContext({});function ze(e,t){if(U(e)){const{initial:n,animate:o}=e;return{initial:n===!1||W(n)?n:void 0,animate:W(o)?o:void 0}}return e.inherit!==!1?t:{}}function We(e){const{initial:t,animate:n}=ze(e,i.useContext(L));return i.useMemo(()=>({initial:t,animate:n}),[_(t),_(n)])}function _(e){return Array.isArray(e)?e.join(" "):e}const H=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function te(e,t,n){for(const o in t)!F(t[o])&&!de(o,n)&&(e[o]=t[o])}function Be({transformTemplate:e},t){return i.useMemo(()=>{const n=H();return fe(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Ge(e,t){const n=e.style||{},o={};return te(o,n,e),Object.assign(o,Be(e,t)),o}function _e(e,t){const n={},o=Ge(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=o,n}const ne=()=>({...H(),attrs:{}});function Ue(e,t,n,o){const s=i.useMemo(()=>{const r=ne();return me(r,t,pe(o),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const r={};te(r,e.style,e),s.style={...r,...s.style}}return s}function Ke(e,t,n,{latestValues:o},s,r=!1,a){const h=(a??K(e)?Ue:_e)(t,o,s,e),m=Oe(t,typeof e=="string",r),d=e!==i.Fragment?{...m,...h,ref:n}:{},{children:p}=t,c=i.useMemo(()=>F(p)?p.get():p,[p]);return i.createElement(e,{...d,children:c})}function Xe({scrapeMotionValuesFromProps:e,createRenderState:t},n,o,s){return{latestValues:Ye(n,o,s,e),renderState:t()}}function Ye(e,t,n,o){const s={},r=o(e,{});for(const c in r)s[c]=Ve(r[c]);let{initial:a,animate:f}=e;const h=U(e),m=he(e);t&&m&&!h&&e.inherit!==!1&&(a===void 0&&(a=t.initial),f===void 0&&(f=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const p=d?f:a;if(p&&typeof p!="boolean"&&!ge(p)){const c=Array.isArray(p)?p:[p];for(let g=0;g<c.length;g++){const u=ye(e,c[g]);if(u){const{transitionEnd:x,transition:v,...R}=u;for(const M in R){let w=R[M];if(Array.isArray(w)){const b=d?w.length-1:0;w=w[b]}w!==null&&(s[M]=w)}for(const M in x)s[M]=x[M]}}}return s}const oe=e=>(t,n)=>{const o=i.useContext(L),s=i.useContext(V),r=()=>Xe(e,t,o,s);return n?r():D(r)},Je=oe({scrapeMotionValuesFromProps:xe,createRenderState:H}),Qe=oe({scrapeMotionValuesFromProps:Ce,createRenderState:ne}),Ze=Symbol.for("motionComponentSymbol");function et(e,t,n){const o=i.useRef(n);i.useInsertionEffect(()=>{o.current=n});const s=i.useRef(null);return i.useCallback(r=>{r&&e.onMount?.(r),t&&(r?t.mount(r):t.unmount());const a=o.current;if(typeof a=="function")if(r){const f=a(r);typeof f=="function"&&(s.current=f)}else s.current?(s.current(),s.current=null):a(r);else a&&(a.current=r)},[t])}const tt=i.createContext({});function nt(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ot(e,t,n,o,s,r){const{visualElement:a}=i.useContext(L),f=i.useContext(X),h=i.useContext(V),m=i.useContext($),d=m.reducedMotion,p=m.skipAnimations,c=i.useRef(null),g=i.useRef(!1);o=o||f.renderer,!c.current&&o&&(c.current=o(e,{visualState:t,parent:a,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d,skipAnimations:p,isSVG:r}),g.current&&c.current&&(c.current.manuallyAnimateOnMount=!0));const u=c.current,x=i.useContext(tt);u&&!u.projection&&s&&(u.type==="html"||u.type==="svg")&&st(c.current,n,s,x);const v=i.useRef(!1);i.useInsertionEffect(()=>{u&&v.current&&u.update(n,h)});const R=n[be],M=i.useRef(!!R&&!window.MotionHandoffIsComplete?.(R)&&window.MotionHasOptimisedAnimation?.(R));return Z(()=>{g.current=!0,u&&(v.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),M.current&&u.animationState&&u.animationState.animateChanges())}),i.useEffect(()=>{u&&(!M.current&&u.animationState&&u.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(R)}),M.current=!1),u.enteringChildren=void 0)}),u}function st(e,t,n,o){const{layoutId:s,layout:r,drag:a,dragConstraints:f,layoutScroll:h,layoutRoot:m,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:se(e.parent)),e.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!a||f&&nt(f),visualElement:e,animationType:typeof r=="string"?r:"both",initialPromotionConfig:o,crossfade:d,layoutScroll:h,layoutRoot:m})}function se(e){if(e)return e.options.allowProjection!==!1?e.projection:se(e.parent)}function N(e,{forwardMotionProps:t=!1,type:n}={},o,s){o&&ve(o);const r=n?n==="svg":K(e),a=r?Qe:Je;function f(m,d){let p;const c={...i.useContext($),...m,layoutId:rt(m)},{isStatic:g}=c,u=We(m),x=a(m,g);if(!g&&Q){it();const v=at(c);p=v.MeasureLayout,u.visualElement=ot(e,x,c,s,v.ProjectionNode,r)}return l.jsxs(L.Provider,{value:u,children:[p&&u.visualElement?l.jsx(p,{visualElement:u.visualElement,...c}):null,Ke(e,m,et(x,u.visualElement,d),x,g,t,r)]})}f.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const h=i.forwardRef(f);return h[Ze]=e,h}function rt({layoutId:e}){const t=i.useContext(J).id;return t&&e!==void 0?t+"-"+e:e}function it(e,t){i.useContext(X).strict}function at(e){const t=Me(),{drag:n,layout:o}=t;if(!n&&!o)return{};const s={...n,...o};return{MeasureLayout:n?.isEnabled(e)||o?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function ut(e,t){if(typeof Proxy>"u")return N;const n=new Map,o=(r,a)=>N(r,a,e,t),s=(r,a)=>o(r,a);return new Proxy(s,{get:(r,a)=>a==="create"?o:(n.has(a)||n.set(a,N(a,void 0,e,t)),n.get(a))})}const q=ut();function ct(){!Re.current&&we();const[e]=i.useState(je.current);return e}const re=({count:e=12})=>l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6  gap-6",children:Array.from({length:e}).map((t,n)=>l.jsx(Te,{},n))});re.propTypes={count:y.number};const ie=({message:e,icon:t})=>l.jsxs(q.div,{initial:{opacity:0},animate:{opacity:1},className:"px-4 py-12 text-center border-2 border-dashed rounded-xl text-muted-foreground border-border/50 bg-muted/20",children:[t&&l.jsx("div",{className:"text-4xl mb-3",children:t}),l.jsx("div",{children:e})]});ie.propTypes={message:y.node.isRequired,icon:y.string};const ae=({actionType:e,onAction:t,disabled:n})=>{const o=e==="save",s=o?"Add to favourites":"Remove from favourites";return l.jsx("button",{onClick:t,disabled:n,className:I("flex items-center justify-center w-9 h-9 rounded-full transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary/30",n?"bg-black/50 cursor-not-allowed":"bg-black/70 hover:bg-black text-white active:scale-95"),title:s,"aria-label":s,children:o?n?l.jsx(Se,{className:"w-5 h-5 text-red-500"}):l.jsx(Pe,{className:"w-5 h-5"}):l.jsx(Ae,{className:"w-5 h-5 hover:text-red-500 transition-colors"})})};ae.propTypes={actionType:y.oneOf(["save","delete"]).isRequired,onAction:y.func.isRequired,disabled:y.bool.isRequired};const lt=Y.memo(ae),ue=({cat:e,onAction:t,actionType:n,disabled:o})=>{const s=ct(),r=i.useCallback(p=>{p.preventDefault(),p.stopPropagation(),o||t(e)},[o,t,e]),a=s?"":"transition-all duration-300 hover:shadow-xl hover:-translate-y-1",f=s?"object-cover w-full h-full":"object-cover w-full h-full transition-transform duration-700 group-hover:scale-105",h=s?"absolute inset-0 pointer-events-none":"absolute inset-0 transition-opacity duration-300 opacity-0 from-black/50 via-transparent to-transparent pointer-events-none group-hover:opacity-100",m=s?"absolute top-3 left-3 px-2 py-1 text-[12px] font-mono font-medium tracking-wider text-white bg-black/40 backdrop-blur-sm rounded-md pointer-events-none":"absolute top-3 left-3 px-2 py-1 text-[12px] font-mono font-medium tracking-wider text-white bg-black/40 backdrop-blur-sm rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",d=o||s?"absolute bottom-3 right-3 z-10":"absolute bottom-3 right-3 z-10 transition-opacity duration-300 opacity-0 group-hover:opacity-100";return l.jsxs("div",{className:I("relative overflow-hidden bg-muted rounded-2xl shadow-sm group",a),children:[l.jsxs("div",{className:"relative aspect-square w-full",children:[l.jsx("img",{src:e.url,alt:`Cat ${e.id}`,loading:"lazy",className:f}),l.jsx("div",{className:h})]}),l.jsxs("div",{className:m,children:["ID: ",e.id]}),l.jsx("div",{className:I(d,"transition-opacity duration-300"),children:l.jsx(lt,{actionType:n,onAction:r,disabled:o})})]})};ue.propTypes={cat:y.shape({id:y.string.isRequired,url:y.string.isRequired}).isRequired,onAction:y.func.isRequired,actionType:y.oneOf(["save","delete"]).isRequired,disabled:y.bool.isRequired};const dt=Y.memo(ue),ft=e=>{const{title:t,cats:n,onAction:o,actionType:s,isActionDisabled:r,loading:a,emptyStateMessage:f}=e,h=!a&&n.length===0;return l.jsxs("section",{className:"w-full mb-12",children:[l.jsx("h3",{className:"pb-2 mb-4 text-xl font-bold border-b text-foreground border-border",children:t}),a&&n.length===0?l.jsx(re,{}):h&&f?l.jsx(ie,{message:f}):l.jsx(q.div,{layout:!0,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6  gap-6",children:l.jsx(De,{mode:"popLayout",children:n.map((m,d)=>l.jsx(q.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2,delay:0}},transition:{duration:.3,delay:Math.min(d*.05,.5)},children:l.jsx(dt,{index:d,cat:m,onAction:o,actionType:s,disabled:r(m)})},m.id))})})]})};ft.propTypes={title:y.string.isRequired,cats:y.array.isRequired,onAction:y.func.isRequired,actionType:y.oneOf(["save","delete"]).isRequired,isActionDisabled:y.func.isRequired,loading:y.bool.isRequired,emptyStateMessage:y.node};export{ft as C};
